# =============================================================================
# risk-hub Environment Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Django Core
# -----------------------------------------------------------------------------
DJANGO_DEBUG=1
DJANGO_SECRET_KEY=change-me-in-production-use-secrets-manager
DJANGO_ALLOWED_HOSTS=.localhost,localhost,127.0.0.1
DJANGO_LOG_LEVEL=INFO

# CSRF (wichtig für Subdomain-Routing)
CSRF_TRUSTED_ORIGINS=http://*.localhost:8080,http://localhost:8080

# -----------------------------------------------------------------------------
# Database (Postgres)
# -----------------------------------------------------------------------------
DATABASE_URL=postgres://app:app@db:5432/risk_hub

# Connection Pooling (Production)
# DATABASE_POOL_SIZE=20
# DATABASE_MAX_OVERFLOW=10

# RLS aktivieren (Defense-in-Depth)
DATABASE_RLS_ENABLED=0

# -----------------------------------------------------------------------------
# Redis (Cache + Celery Broker)
# -----------------------------------------------------------------------------
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# -----------------------------------------------------------------------------
# Multi-Tenancy
# -----------------------------------------------------------------------------
TENANT_BASE_DOMAIN=localhost
TENANT_ALLOW_LOCALHOST=1

# -----------------------------------------------------------------------------
# Documents / S3 (MinIO für Dev, Hetzner Object Storage für Prod)
# -----------------------------------------------------------------------------
S3_ENDPOINT=http://minio:9000
S3_REGION=us-east-1
S3_ACCESS_KEY=minio
S3_SECRET_KEY=minio123
S3_BUCKET=documents
S3_USE_SSL=0

# Public URL für Downloads (Dev: MinIO, Prod: CDN/Signed URLs)
S3_PUBLIC_BASE_URL=http://localhost:9000/documents

# -----------------------------------------------------------------------------
# Plattform Integration (Shared Services)
# -----------------------------------------------------------------------------
# PLATTFORM_API_URL=http://plattform-api:8000
# PLATTFORM_API_KEY=

# Event Bus (für Cross-Hub-Kommunikation)
# EVENT_BUS_URL=redis://redis:6379/3

# -----------------------------------------------------------------------------
# Email (Production)
# -----------------------------------------------------------------------------
# EMAIL_HOST=smtp.example.com
# EMAIL_PORT=587
# EMAIL_HOST_USER=
# EMAIL_HOST_PASSWORD=
# EMAIL_USE_TLS=1
# DEFAULT_FROM_EMAIL=noreply@risk-hub.de

# -----------------------------------------------------------------------------
# Monitoring & Observability
# -----------------------------------------------------------------------------
# SENTRY_DSN=
# PROMETHEUS_METRICS_ENABLED=1

# -----------------------------------------------------------------------------
# Security (Production)
# -----------------------------------------------------------------------------
SECURE_PROXY_SSL_HEADER=HTTP_X_FORWARDED_PROTO,https
# SESSION_COOKIE_SECURE=1
# CSRF_COOKIE_SECURE=1
# SECURE_HSTS_SECONDS=31536000
