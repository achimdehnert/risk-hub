# =============================================================================
# risk-hub Environment Variables (Production)
# =============================================================================
# Generated by Ansible - Do not edit manually!
# =============================================================================

# Django Core
DJANGO_DEBUG=0
DJANGO_SECRET_KEY={{ django_secret_key }}
DJANGO_ALLOWED_HOSTS=.{{ domain }},{{ domain }}
DJANGO_LOG_LEVEL=INFO

# CSRF
CSRF_TRUSTED_ORIGINS=https://*.{{ domain }},https://{{ domain }}

# Database (Ã¼ber PgBouncer)
DATABASE_URL=postgres://{{ db_user }}:{{ db_password }}@{{ db_host }}:6432/{{ db_name }}
DATABASE_RLS_ENABLED=1

# Redis
REDIS_URL=redis://{{ redis_host }}:{{ redis_port }}/0
CELERY_BROKER_URL=redis://{{ redis_host }}:{{ redis_port }}/1
CELERY_RESULT_BACKEND=redis://{{ redis_host }}:{{ redis_port }}/2

# Multi-Tenancy
TENANT_BASE_DOMAIN={{ domain }}
TENANT_ALLOW_LOCALHOST=0

# S3 / Documents
S3_ENDPOINT={{ s3_endpoint }}
S3_REGION={{ s3_region | default('eu-central-1') }}
S3_ACCESS_KEY={{ s3_access_key }}
S3_SECRET_KEY={{ s3_secret_key }}
S3_BUCKET={{ s3_bucket }}
S3_USE_SSL=1
S3_PUBLIC_BASE_URL=https://cdn.{{ domain }}

# Security
SECURE_PROXY_SSL_HEADER=HTTP_X_FORWARDED_PROTO,https
SESSION_COOKIE_SECURE=1
CSRF_COOKIE_SECURE=1
SECURE_HSTS_SECONDS=31536000

# Sentry (optional)
{% if sentry_dsn is defined %}
SENTRY_DSN={{ sentry_dsn }}
{% endif %}
