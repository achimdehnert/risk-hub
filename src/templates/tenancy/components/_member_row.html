{% load tenancy_components %}
<tr class="hover:bg-gray-50" id="member-row-{{ m.pk }}">
    <td class="px-4 py-3 text-sm">
        <div class="flex items-center gap-2">
            <div class="w-7 h-7 bg-gray-200 rounded-full flex items-center justify-center">
                <i data-lucide="user" class="w-3.5 h-3.5 text-gray-500"></i>
            </div>
            <div>
                <div class="font-medium text-gray-900">{{ m.user.get_full_name|default:m.user.username }}</div>
                <div class="text-xs text-gray-400">{{ m.user.username }}</div>
            </div>
        </div>
    </td>
    <td class="px-4 py-3 text-sm text-gray-500">{{ m.user.email }}</td>
    <td class="px-4 py-3 text-sm">
        {% if m.role == "owner" %}
        <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800">Owner</span>
        {% elif m.role == "admin" %}
        <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">Admin</span>
        {% elif m.role == "member" %}
        <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">Member</span>
        {% elif m.role == "viewer" %}
        <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800">Viewer</span>
        {% else %}
        <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800">External</span>
        {% endif %}
    </td>
    <td class="px-4 py-3 text-sm text-gray-500">
        {{ m.accepted_at|date:"d.m.Y"|default:m.created_at|date:"d.m.Y" }}
    </td>
    <td class="px-4 py-3 text-sm text-right space-x-1">
        <a href="{% url 'tenancy:member-role' org.pk m.pk %}"
           class="text-blue-600 hover:text-blue-800" title="Rolle Ã¤ndern">
            <i data-lucide="shield" class="w-4 h-4 inline"></i>
        </a>
        <a href="{% url 'tenancy:member-remove' org.pk m.pk %}"
           class="text-red-500 hover:text-red-700" title="Entfernen">
            <i data-lucide="user-minus" class="w-4 h-4 inline"></i>
        </a>
    </td>
</tr>
