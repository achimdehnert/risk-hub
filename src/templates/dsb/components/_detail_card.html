{% load dsb_components %}
<div class="bg-white rounded-lg shadow p-6" data-testid="{{ testid }}">
    <div class="flex items-center justify-between mb-4">
        <h2 class="text-lg font-semibold text-gray-900">
            {% if icon %}<i data-lucide="{{ icon }}" class="w-5 h-5 inline mr-1 text-gray-500"></i>{% endif %}
            {{ title }}
        </h2>
        {% if badge_value %}
        {% status_badge badge_value badge_display %}
        {% endif %}
    </div>
    <dl class="grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-3">
        {% for field in fields %}
        <div>
            <dt class="text-xs font-medium text-gray-500 uppercase">{{ field.label }}</dt>
            <dd class="mt-1 text-sm text-gray-900">
                {% if field.type == "badge" %}
                {% status_badge field.value field.display %}
                {% elif field.type == "link" %}
                <a href="{{ field.url }}" class="text-blue-600 hover:underline">{{ field.value }}</a>
                {% else %}
                {{ field.value|default:"â€”" }}
                {% endif %}
            </dd>
        </div>
        {% endfor %}
    </dl>
    {% if actions %}
    <div class="mt-4 pt-4 border-t border-gray-200 flex gap-3">
        {% for action in actions %}
        <a href="{{ action.url }}"
           class="inline-flex items-center gap-1 px-3 py-1.5 text-sm font-medium rounded-md text-gray-700 bg-gray-100 hover:bg-gray-200">
            {% if action.icon %}<i data-lucide="{{ action.icon }}" class="w-4 h-4"></i>{% endif %}
            {{ action.label }}
        </a>
        {% endfor %}
    </div>
    {% endif %}
</div>
