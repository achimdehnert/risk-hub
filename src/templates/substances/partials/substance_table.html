<table class="min-w-full divide-y divide-gray-200">
    <thead class="bg-gray-50">
        <tr>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                Gefahrstoff
            </th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                CAS-Nr.
            </th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                Lagerklasse
            </th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                Ex-Daten
            </th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                Status
            </th>
            <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                Aktionen
            </th>
        </tr>
    </thead>
    <tbody class="bg-white divide-y divide-gray-200">
        {% for substance in substances %}
        <tr class="hover:bg-gray-50">
            <td class="px-6 py-4 whitespace-nowrap">
                <div class="flex items-center">
                    {% if substance.is_cmr %}
                    <span class="flex-shrink-0 w-2 h-2 rounded-full bg-red-500 mr-3" title="CMR-Stoff"></span>
                    {% endif %}
                    <div>
                        <div class="text-sm font-medium text-gray-900">{{ substance.name }}</div>
                        {% if substance.trade_name %}
                        <div class="text-sm text-gray-500">{{ substance.trade_name }}</div>
                        {% endif %}
                    </div>
                </div>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
                <span class="text-sm text-gray-900 font-mono">{{ substance.cas_number|default:"-" }}</span>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
                <span class="inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800">
                    {{ substance.get_storage_class_display|default:"-" }}
                </span>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
                {% if substance.flash_point_c %}
                <span class="text-xs text-gray-600" title="Flammpunkt">
                    <i data-lucide="flame" class="w-3 h-3 inline"></i> {{ substance.flash_point_c }}Â°C
                </span>
                {% endif %}
                {% if substance.temperature_class %}
                <span class="text-xs text-gray-600 ml-2" title="Temperaturklasse">
                    {{ substance.temperature_class }}
                </span>
                {% endif %}
                {% if substance.explosion_group %}
                <span class="text-xs text-gray-600 ml-1">{{ substance.explosion_group }}</span>
                {% endif %}
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                    {% if substance.status == 'active' %}bg-green-100 text-green-800
                    {% elif substance.status == 'inactive' %}bg-gray-100 text-gray-800
                    {% else %}bg-yellow-100 text-yellow-800{% endif %}">
                    {{ substance.get_status_display }}
                </span>
            </td>
            <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                <a href="{% url 'substances:detail' pk=substance.pk %}" 
                   class="text-orange-600 hover:text-orange-900 mr-3">
                    Anzeigen
                </a>
                <a href="{% url 'substances:edit' pk=substance.pk %}" 
                   class="text-gray-600 hover:text-gray-900">
                    Bearbeiten
                </a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="6" class="px-6 py-12 text-center text-gray-500">
                <i data-lucide="inbox" class="w-12 h-12 mx-auto mb-4 text-gray-300"></i>
                <p>Keine Gefahrstoffe gefunden</p>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
